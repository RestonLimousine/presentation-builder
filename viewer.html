<!doctype html>
<html>
<head>
  <script src="showdown.js"></script>
<style>
  html {
    background-color: #cccccc;
    font-family: sans-serif;
  }
  body {
    margin: 0;
  }
  .page {
    height: 816px;
    width: 1056px;
    background: white;
    padding: 48px;
    box-sizing: border-box;
    margin-bottom: 96px;
    position: relative;
    display: flex;
    flex-direction: column;
  }
  img {
    width: 100%;
    border: 1px solid gray;
    box-sizing: border-box;
  }
  p {
    margin: 0;
  }
  @media print {
    .page {
      margin-bottom: 0;
    }
  }
  #coordinates {
    position: fixed;
    background: white;
    left: -100px;
    top: -100px;
  }
  .rect {
    position: absolute;
    border: 5px solid red;
  }
  .text {
    padding: 1em;
    margin-top: 0.5em;
    border: 1px solid gray;
    flex-grow: 1;
    box-sizing: border-box;
  }
</style>
</head>
<body>
<div id="coordinates"></div>
<script>
var converter = new showdown.Converter();
[
  ["images/01-enter-username.jpg",
   'Visit <https://cloud.samsara.com> and enter your RLS email address as your username. Then click "Continue".'],
  ["images/02-enter-password.jpg",
   'Enter your password, then click "Sign In".'],
  ["images/03-main-screen.jpg",
   'You will now be taken to the "Fleet Overview" screen. Find a vehicle by searching through the listing on the left. ' +
   "You can either scroll through the listing or search by typing the vehicle's name in the search input above the listing."],
  ["images/04-sort-a-z.jpg",
   "To make it easier to find a vehicle, you can also sort the listing alphabetically.",
   [[50,145,140,225]]
  ],
  ["images/05-vehicle-view.jpg",
   "After clicking on the vehicle, you will see this view. The vehicle's location is shown on the map " +
   "with one of the following icons:\n* A green circle on the map means the vehicle is idling.\n" +
   "* A green arrow means the vehicle is moving.\n* A gray circle means the engine is off.\n\n" +
   "The blue line shows where the vehicle has travelled over the date range selected above the map.",
   [[640,490,670,515]]
  ],
  ["images/05.1-change-date.jpg",
   "To change the dates you are looking at, click on the date button above the map and choose a different " +
   "date range from the dropdown calendar. Once you change these dates, they will keep the new value you " +
   "gave them even as you look at other areas of the site, so always double check the dates to make that " +
   "you are looking at the right information.",
   [[906,85,961,106]]
  ],
  ["images/05-vehicle-view.jpg",
   "To the left of the map, you will see details on the vehicle, including its name, the most recent dashcam photo, " +
   "current driver, mileage, fuel level, and more. The info that is available will vary by vehicle.",
   [[50,115,255,560]]
  ],
  ["images/06-trips-listing.jpg",
   "Scroll down on the left side to see the trips listing. A trip begins when a vehicle is moving at least 5 mph, " +
   "and ends when the vehicle has been stopped for 5 minutes. Therefore, a single day, even a single job, might be " +
   "broken up into multiple trips.",
   [[50,115,255,560]]
  ],
  ["images/06.1-view-trip.jpg",
   "Click on a trip (not on the photo!) to view the activity from just that trip on the map.",
   [[40,140,265,205]]
  ],
  ["images/06.2-dashcam-photo-on-map.jpg",
    "Each gray dot on the map shows where a dashcam photo was taken. These photos are taken every two minutes during " +
    "a trip. Place the mouse cursor over a dot to see the photo.",
   [[625,205,895,385]]
  ]
].forEach(function (content) {
  var text = converter.makeHtml(content[1]),
      src = content[0],
      rects = content[2] || [],
      page = document.createElement("div"),
      img = document.createElement("img"),
      textDiv = document.createElement("div"),
      coordinates = document.getElementById("coordinates");
  page.addEventListener("mousemove", function (e) {
    coordinates.textContent = (e.pageX - page.offsetLeft) + "," + (e.pageY - page.offsetTop);
    coordinates.style.left = e.clientX + 20 + "px";
    coordinates.style.top = e.clientY + 20 + "px";
  }, true);
  page.addEventListener("mouseout", function (e) {
    coordinates.style.left = "-100px";
    coordinates.style.top = "-100px";
  }, true);
  page.className = "page";
  img.src = src;
  page.appendChild(img);
  textDiv.className = "text";
  textDiv.innerHTML = text;
  page.appendChild(textDiv);
  rects.forEach(function (rect) {
    var rectDiv = document.createElement("div");
    rectDiv.className = "rect";
    rectDiv.style.left = rect[0] + "px";
    rectDiv.style.top = rect[1] + "px";
    rectDiv.style.width = rect[2] - rect[0] + "px";
    rectDiv.style.height = rect[3] - rect[1] + "px";
    page.appendChild(rectDiv);
  });
  document.body.insertBefore(page, coordinates);
});
</script>
</body>
</html>
